<!DOCTYPE html>
<html lang="en">
<head>
    <title>Quick Start - Stack SAGA</title>

    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="Stack SAGA Quick Start with spring boot microservice.">
    <meta name="author" content="Mafei">
    <link rel="shortcut icon" href="../../favicon.ico">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700&display=swap" rel="stylesheet">

    <!-- FontAwesome JS-->
    <script defer src="../../assets/fontawesome/js/all.min.js"></script>

    <!-- Plugins CSS -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.2/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="../../assets/plugins/simplelightbox/simple-lightbox.min.css">

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="../../assets/css/theme.css">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LC0M1Q19EK"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'G-LC0M1Q19EK');
    </script>

</head>
<body class="docs-page">
<header class="header fixed-top">
    <div class="branding docs-branding">
        <div class="container-fluid position-relative py-2">
            <div class="docs-logo-wrapper">
                <button id="docs-sidebar-toggler" class="docs-sidebar-toggler docs-sidebar-visible me-2 d-xl-none"
                        type="button">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="site-logo"><a class="navbar-brand" href="/index.html"><img class="logo-icon me-2"
                                                                                       src="../../assets/images/coderdocs-logo.svg"
                                                                                       alt="logo"><span
                        class="logo-text">stack<span class="text-alt">SAGA</span></span></a></div>
            </div><!--//docs-logo-wrapper-->
            <div class="docs-top-utilities d-flex justify-content-end align-items-center">
                <div class="top-search-box d-none d-lg-flex">
                    <form class="search-form">
                        <input type="text" placeholder="Search the docs..." name="search"
                               class="form-control search-input">
                        <button type="submit" class="btn search-btn" value="Search"><i class="fas fa-search"></i>
                        </button>
                    </form>
                </div>

                <ul class="social-list list-inline mx-md-3 mx-lg-5 mb-0 d-none d-lg-flex">
                    <li class="list-inline-item"><a href="#"><i class="fab fa-github fa-fw"></i></a></li>
                    <li class="list-inline-item"><a href="#"><i class="fab fa-twitter fa-fw"></i></a></li>
                    <li class="list-inline-item"><a href="#"><i class="fab fa-slack fa-fw"></i></a></li>
                    <li class="list-inline-item"><a href="#"><i class="fab fa-product-hunt fa-fw"></i></a></li>
                </ul><!--//social-list-->
                <a href="https://themes.3rdwavemedia.com/bootstrap-templates/startup/coderdocs-free-bootstrap-5-documentation-template-for-software-projects/"
                   class="btn btn-primary d-none d-lg-flex">Download</a>
            </div><!--//docs-top-utilities-->
        </div><!--//container-->
    </div><!--//branding-->
</header><!--//header-->
<div class="docs-wrapper">
    <div id="docs-sidebar" class="docs-sidebar">
        <div class="top-search-box d-lg-none p-3">
            <form class="search-form">
                <input type="text" placeholder="Search the docs..." name="search" class="form-control search-input">
                <button type="submit" class="btn search-btn" value="Search"><i class="fas fa-search"></i></button>
            </form>
        </div>
        <nav id="docs-nav" class="docs-nav navbar">
            <ul class="section-items list-unstyled nav flex-column pb-3">
                <li class="nav-item section-title"><a class="nav-link scrollto active" href="#section-1"><span
                        class="theme-icon-holder me-2"><i class="fas fa-map-signs"></i></span>Introduction</a></li>
                <li class="nav-item"><a class="nav-link scrollto" href="#item-1-1">Microservice Architecture</a></li>
                <li class="nav-item"><a class="nav-link scrollto" href="#item-1-2">Section Item 1.2</a></li>
                <li class="nav-item"><a class="nav-link scrollto" href="#item-1-3">Section Item 1.3</a></li>
                <li class="nav-item"><a class="nav-link scrollto" href="#item-1-4">Section Item 1.4</a></li>
                <li class="nav-item"><a class="nav-link scrollto" href="#item-1-5">Section Item 1.5</a></li>
                <li class="nav-item"><a class="nav-link scrollto" href="#item-1-6">Section Item 1.6</a></li>

            </ul>

        </nav><!--//docs-nav-->
    </div><!--//docs-sidebar-->

    <div class="docs-content">
        <div class="container">
            <article class="docs-article" id="section-1">
                <header class="docs-header">
                    <h1 class="docs-heading">Introduction<span
                            class="docs-time">Last updated: 2019-06-01</span></h1>
                    <section class="docs-intro">
                        <p>In this section, you will get the architecture of this framework. other than that, you will
                            get
                            what are the limitations you have to face when you are going to use microservice
                            architecture
                            and how overcome those difficulties by using StackSAGA framework.</p>
                    </section><!--//docs-intro-->

                </header>
                <section class="docs-section" id="item-1-4">
                    <h2 class="section-heading">Introduction to StackSAGA</h2>
                    <p>
                        StackSAGA is framework as well as kind of a design pattern for execute saga orchestration
                        pattern with spring boot by using as a library.
                    </p>

                    <H1>Components of the stackSAGA </h1>

                    <ul>
                        <li><a target="_blank" href="./topics/aggregator.html">Aggregator</a></li>
                        <li><a target="_blank" href="./topics/executor.html">Executor</a></li>
                        <li><a target="_blank" href="./topics/handler.html">Handlers</a></li>
                        <li><a target="_blank" href="./topics/retryable-exception-vs-non-retryable-exception.html">Retryable
                            Exceptions</a></li>
                        <li><a href="./topics/hint-store.html">Hint store</a></li>
                        <li>StackSaga coordinator</li>
                    </ul>
                </section>
                <section class="docs-section" id="item-1-5">
                    <h2 class="section-heading">What is an executor in stackSAGA?</h2>

                    <p>
                        As you know we have to communicate multiple microservices when we are going with
                        microservices architecture. If we don't use stackSAGA framework you can use call your
                        another microservice by using http client or whatever related protocol method for that
                        particular microservice inside your single method. Just assume you have to communicate with
                        100 of microservices to do a transaction. Then you have to call those 100 microservices one
                        by one inside your single method. And you can't get understand clearly those steps. But
                        if you use stackSAGA, we don't have to worry about it. You have a template to implement and
                        store the transaction in a clear mechanism. Those implemented classes called as executors.
                        In other words, the classes are responsible for doing transactions and doing revert
                        processes regarding each microservice called as executors.
                    </p>

                    <a target="_blank"
                       href="../../assets/images/architecture/1.0/what-is-executor-in-stacksaga.svg"><img
                            class="img-fluid  "
                            src="../../assets/images/architecture/1.0/what-is-executor-in-stacksaga.svg"
                            alt=""
                            title="what is executor in stacksaga"/></a>
                    <h5>Executors are mainly two types.</h5>
                    <ol>
                        <li>command executors</li>
                        <li>query executors</li>
                    </ol>

                    <br>
                    <h3>Command executors.</h3>
                    <a target="_blank"
                       href="../../assets/images/architecture/1.0/command-executor.svg"><img
                            class="img-fluid  "
                            src="../../assets/images/architecture/1.0/command-executor.svg"
                            alt=""
                            title="CoderPro Home Page"/></a>
                    <p>
                        Assume you are going to do a transaction with 10 microservices' endpoint. Some microservices
                        might be services that data change in their database due to the calling. As an example if it
                        was update stock endpoint, exactly the stocks will be updated due to the calling it.
                        According to the saga pattern every command executions like this have a compensation
                        transaction to recompense if the transaction will not be executed as we accepted. Therefore
                        we should recover the updated data. The classes which doing this kind of execution called as
                        command executors.
                    </p>
                    <br>
                    <h3>Query executors.</h3>
                    <a target="_blank"
                       href="../../assets/images/architecture/1.0/query-executor.svg"><img
                            class="img-fluid  "
                            src="../../assets/images/architecture/1.0/query-executor.svg"
                            alt=""
                            title="CoderPro Home Page"/></a>
                    <p>
                        If There is no data changing In the microservice's database that you called due to the
                        calling endpoint, to execute that kind of endpoint you should use query executors. Because
                        it's a just retrieve the data to get a decision. Nothing to recover.
                    </p>


                </section><!--//section-->

                <section class="docs-section" id="item-1-9">
                    <H2>Aggregator</h2>
                    <P>
                        Stacksaga goes with a unique design pattern called "one controller per transaction". One
                        transaction has a one aggregator. An aggregator workers as a identifier as we as the dataset of
                        your transaction.
                    </P>
                    <h5>

                        As the Identifier
                    </h5>

                    <p>

                        all the classes regarding the transaction will be related with the aggregator class. Without
                        keeping a relation with aggregator those classes will not be able to go through the stackSAGA
                        coordinator. Check out the code example.
                    </p>

                    <h5>

                        As the dataset container
                    </h5>
                    <p>

                        Aggregator act as the dataset container throughout entire transaction. If you are going to do a
                        transaction, you want some data to pass to the service. Those data is stored in the aggregator.
                        Check out the code example.
                    </p>
                    <p>
                        By considering the following image you can get understand what kind of relationship has between
                        the aggregator and others class that you want to execute the transaction.
                    </p>

                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/what-is-a-aggregate--in-stacksaga.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/what-is-a-aggregate--in-stacksaga.svg"
                                alt=""
                                title="CoderPro Home Page"/></a>
                    </div>
                </section>

                <section>
                    <h5>Act as a coordinator</h5>
                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/how-involve-stacksaga.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/how-involve-stacksaga.svg"
                                alt=""
                                title="how-involve-stacksaga for microservice"/></a>
                    </div>
                    <p>

                        StackSAGA framework mainly focus on saga orchestration design pattern. The main
                        responsibility is, manage
                        all the execution for each microservice one by one. And if an error occurred, do a
                        compensation for all executed transactions that affected to the database due to the
                        transaction that been happening until the error and keep all the states of each transaction
                        as can be replied in a store. As well as the framework provides you to a clean and clear
                        architecture to store your code regarding each microservice instead of calling all the
                        microservices inside your boilerplate single method. If you use stackSAGA framework you
                        don't want to worry about the compensation and other boring stuff, because the only thing
                        you have to do is, provide your logic inside of <a href="#">saga executors</a>. Then the
                        StackSAGA
                        coordinator will coordinate all the microservices and if an error occurred the coordinator
                        has the knowledge to undo all the execution that been doing until now.


                    </p>

                    <h5>Act as a circuit breaker</h5>
                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/stacksaga-as-a-circuit-breaker.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/stacksaga-as-a-circuit-breaker.svg"
                                alt=""
                                title="how-involve-stacksaga for microservice"/></a>
                    </div>
                    <p>

                        If you are use stackSAGA for all microservices (with spring boot), the framework can
                        identify the active services and broken down services. Because stackSAGA uses redis server
                        internally to communicate through each microservice. <a href="#">Read more..</a>

                    </p>
                    <h5>Provides multiple execution methods</h5>
                    <p>
                        The framework provides you to do the transaction multiple ways as synchronous way,
                        asynchronous way, and hybrid way
                    </p>

                    <h5>Tracing dashboard</h5>
                    <p>
                        The framework provides a dashboard to see all the executed transactions and how the
                        transaction got behave.
                    </p>
                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/stacksaga-tracing-dashboard.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/stacksaga-tracing-dashboard.svg"
                                alt=""
                                title="stacksaga tracing dashboard"/></a>
                    </div>


                    <h2>StackSAGA Execution Approaches</h2>
                    <p>according to the requirements of requests, execution approaches are 3 types.</p>
                    <ol>
                        <li>
                            Send As Synchronous
                        </li>
                        <li>Send As Fire And Forget
                            <ol type="i">
                                <li>Fire And Forget full process</li>
                                <li>Fire And Forget On Process</li>
                            </ol>
                        </li>
                    </ol>


                </section><!--//section-->

                <section>
                    <h4>01. Synchronous <code>process()</code></h4>

                    <ul>
                        <li>
                            <a href="#synchronous-process-with-fully-success-transaction-scenario">

                                Synchronous process with Fully success transaction scenario
                            </a>
                        </li>
                        <li>
                            <a href="#synchronous-process-with-revert-success-transaction-scenario">

                                Synchronous process with Rollback/Compensation/Revert success transaction
                                scenario
                            </a>
                        </li>
                        <li>
                            <a href="#synchronous-process-with-evert-failed-transaction-scenario">

                                Synchronous process with Rollback/Compensation/Revert failed transaction
                                scenario
                            </a>
                        </li>
                    </ul>


                    <br>
                    <h5 id="synchronous-process-with-fully-success-transaction-scenario">Synchronous process with Fully
                        success transaction scenario</h5>
                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/fully-success-transaction-stacksaga.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/fully-success-transaction-stacksaga.svg"
                                alt=""
                                title="CoderPro Home Page"/></a>
                    </div>
                    <ul>
                        <li>
                            <span class="badge rounded-pill bg-number">1</span>
                            As the first step a request cokes to
                            the microservice which we are going to start transaction.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">2</span>
                            the request mapping method will catch the request handover the process into stack
                            saga template (stack saga state machine). After that the SSSM will take care of all the
                            process onwards.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">3</span>
                            Before doing any execution process, SSSM saves the dataset which it got initially in
                            event store.

                            <div class="callout-block callout-block-info">

                                <div class="content">
                                    <h4 class="callout-title">
	                                <span class="callout-icon-holder me-1">
		                                <i class="fas fa-info-circle"></i>
		                            </span><!--//icon-holder-->
                                        Note
                                    </h4>
                                    <p>Now is the time to be executed all the service classes one by one to do the
                                        transaction fallowing the instructions that you have coded.</p>
                                </div><!--//content-->
                            </div><!--//callout-block-->
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4</span>
                            you are already know that you can use the main server that you want to start the
                            transaction as the coordinator. Then it will act as a coordinator as well as a
                            microservice. Therefore, the first execution will be a self transaction. (The request
                            not
                            going to another service).
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4.1</span>
                            after executing the do-process method successfully, updated dataset will be saved in the
                            event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">4.2</span>
                            after saving the event state in the store the main service class will be notified as one
                            execution has been processed successfully. (This is the place that you can update the
                            status of the transaction each time after doing execution successfully)
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5</span>
                            CheckUserStatus executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">5.1</span>
                            same as the first execution, after executing the do-process method successfully, updated
                            dataset will be saved in the event store.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5.2</span>
                            same as the first execution, after saving the event state in the store the main service
                            class will be notified as one execution has been processed successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6</span>
                            StockUpdate executor class will be executed because of the previous execution doing
                            successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">6.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7</span>
                            MakePayment executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">8</span>
                            The stackSAGA coordinator (SSC) knows the process is completed now. Therefore, it will
                            notify to the onComplete method inside the controller (it is an Asynchronous
                            invocation).
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R9</span>
                            R9 after completing all the process SSC returns to the controller with all the
                            historical dataset that executed.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R10</span>
                            The controller returns the response
                            back to the client.
                        </li>


                    </ul>

                    <p>
                        As we discussed earlier, we had used number of microservices for doing one single execution.
                        Just assume we have used 5 microservices to be executed and all of them have been worked
                        without any errors. Then there is no revert processes have been executed. That's means, all
                        the microservices are up and running and there haven't been occurred exceptions internally
                        inside each microservice.
                    </p>

                    <br>
                    <h5 id="synchronous-process-with-revert-success-transaction-scenario">Synchronous process with
                        Rollback/Compensation/Revert success transaction scenario</h5>
                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/revert-success-transaction-stacksaga.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/revert-success-transaction-stacksaga.svg"
                                alt=""
                                title="CoderPro Home Page"/></a>
                    </div>
                    <ul>
                        <li>
                            <span class="badge rounded-pill bg-number">1</span>
                            As the first step a request cokes to
                            the microservice which we are going to start transaction.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">2</span>
                            the request mapping method will catch the request handover the process into stack
                            saga template (stack saga state machine). After that the SSSM will take care of all the
                            process onwards.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">3</span>
                            Before doing any execution process, SSSM saves the dataset which it got initially in
                            event store.

                            <div class="callout-block callout-block-info">

                                <div class="content">
                                    <h4 class="callout-title">
	                                <span class="callout-icon-holder me-1">
		                                <i class="fas fa-info-circle"></i>
		                            </span><!--//icon-holder-->
                                        Note
                                    </h4>
                                    <p>Now is the time to be executed all the service classes one by one to do the
                                        transaction fallowing the instructions that you have coded.</p>
                                </div><!--//content-->
                            </div><!--//callout-block-->
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4</span>
                            you are already know that you can use the main server that you want to start the
                            transaction as the coordinator. Then it will act as a coordinator as well as a
                            microservice. Therefore, the first execution will be a self transaction. (The request
                            not
                            going to another service).
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4.1</span>
                            after executing the do-process method successfully, updated dataset will be saved in the
                            event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">4.2</span>
                            after saving the event state in the store the main service class will be notified as one
                            execution has been processed successfully. (This is the place that you can update the
                            status of the transaction each time after doing execution successfully)
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5</span>
                            CheckUserStatus executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">5.1</span>
                            same as the first execution, after executing the do-process method successfully, updated
                            dataset will be saved in the event store.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5.2</span>
                            same as the first execution, after saving the event state in the store the main service
                            class will be notified as one execution has been processed successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6</span>
                            StockUpdate executor class will be executed because of the previous execution doing
                            successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">6.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7</span>
                            MakePayment executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">8</span>
                            The stackSAGA coordinator (SSC) knows the process is completed now. Therefore, it will
                            notify to the onComplete method inside the controller (it is an Asynchronous
                            invocation).
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R9</span>
                            R9 after completing all the process SSC returns to the controller with all the
                            historical dataset that executed.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R10</span>
                            The controller returns the response
                            back to the client.
                        </li>


                    </ul>

                    <p>
                        In this time, An exception has occurred when one of microservices get execute. Just assume
                        coordinator has been executed 3 microservices successfully but at the 4th one, an error has
                        occurred due to a network exception or whatever internal exception that the microservices
                        has been thrown. Now the coordinator has to execute revert function regarding the all
                        microservices that executed earlier. So the coordinator will start to execute all the revert
                        functions one by one as a sequence. If those revert functions has been executed
                        successfully, this kind of transactions are going to these types. Simply we did a set of
                        transactions but unfortunately got an error but all the revert processes are done
                        successfully.
                    </p>

                    <br>
                    <h5 id="synchronous-process-with-evert-failed-transaction-scenario">Synchronous process with
                        Rollback/Compensation/Revert failed transaction scenario</h5>
                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/revert-failed-transaction-stacksaga.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/revert-failed-transaction-stacksaga.svg"
                                alt=""
                                title="revert failed transaction stacksaga"/></a>
                    </div>
                    <ul>
                        <li>
                            <span class="badge rounded-pill bg-number">1</span>
                            As the first step a request cokes to
                            the microservice which we are going to start transaction.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">2</span>
                            the request mapping method will catch the request handover the process into stack
                            saga template (stack saga state machine). After that the SSSM will take care of all the
                            process onwards.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">3</span>
                            Before doing any execution process, SSSM saves the dataset which it got initially in
                            event store.

                            <div class="callout-block callout-block-info">

                                <div class="content">
                                    <h4 class="callout-title">
	                                <span class="callout-icon-holder me-1">
		                                <i class="fas fa-info-circle"></i>
		                            </span><!--//icon-holder-->
                                        Note
                                    </h4>
                                    <p>Now is the time to be executed all the service classes one by one to do the
                                        transaction fallowing the instructions that you have coded.</p>
                                </div><!--//content-->
                            </div><!--//callout-block-->
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4</span>
                            you are already know that you can use the main server that you want to start the
                            transaction as the coordinator. Then it will act as a coordinator as well as a
                            microservice. Therefore, the first execution will be a self transaction. (The request
                            not
                            going to another service).
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4.1</span>
                            after executing the do-process method successfully, updated dataset will be saved in the
                            event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">4.2</span>
                            after saving the event state in the store the main service class will be notified as one
                            execution has been processed successfully. (This is the place that you can update the
                            status of the transaction each time after doing execution successfully)
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5</span>
                            CheckUserStatus executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">5.1</span>
                            same as the first execution, after executing the do-process method successfully, updated
                            dataset will be saved in the event store.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5.2</span>
                            same as the first execution, after saving the event state in the store the main service
                            class will be notified as one execution has been processed successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6</span>
                            StockUpdate executor class will be executed because of the previous execution doing
                            successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">6.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7</span>
                            MakePayment executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">8</span>
                            The stackSAGA coordinator (SSC) knows the process is completed now. Therefore, it will
                            notify to the onComplete method inside the controller (it is an Asynchronous
                            invocation).
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R9</span>
                            R9 after completing all the process SSC returns to the controller with all the
                            historical dataset that executed.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R10</span>
                            The controller returns the response
                            back to the client.
                        </li>


                    </ul>

                    <p>
                        In this time, the coordinator try to execute the transactions one by one. But while doing
                        the execution, an error get occurred after doing some executions and the coordinator get
                        started to execute all the revert processes that regards to the microservices that
                        previously executed. But unfortunately while doing the revert executions an error get
                        occurred because of a network issues. (Network issues means it can be happened because of
                        there is no endpoint in active at that time or kind of actual network problems)
                    </p>

                    <h5>Replay transaction by coordinator</h5>

                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/replay-revert-failed-transaction-stacksaga.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/replay-revert-failed-transaction-stacksaga.svg"
                                alt=""
                                title="revert failed transaction stacksaga"/></a>
                    </div>

                    <!--Fire And Forget start-->

                    <h4>02.Fire And Forget full process <code>fireAndForget()</code></h4>

                    <ul>
                        <li>
                            <a href="#fire-and-forget-with-fully-success-transaction-scenario">

                                Synchronous process with Fully success transaction scenario
                            </a>
                        </li>
                        <li>
                            <a href="#fire-and-forget-with-revert-success-transaction-scenario">

                                Synchronous process with Rollback/Compensation/Revert success transaction
                                scenario
                            </a>
                        </li>
                        <li>
                            <a href="#fire-and-forget-with-evert-failed-transaction-scenario">

                                Synchronous process with Rollback/Compensation/Revert failed transaction
                                scenario
                            </a>
                        </li>
                    </ul>


                    <br>
                    <h5 id="fire-and-forget-with-fully-success-transaction-scenario">Fire And Forget full process with
                        Fully
                        success transaction scenario</h5>
                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/fully-success-transaction-stacksaga.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/fully-success-transaction-stacksaga.svg"
                                alt=""
                                title="CoderPro Home Page"/></a>
                    </div>
                    <ul>
                        <li>
                            <span class="badge rounded-pill bg-number">1</span>
                            As the first step a request cokes to
                            the microservice which we are going to start transaction.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">2</span>
                            the request mapping method will catch the request handover the process into stack
                            saga template (stack saga state machine). After that the SSSM will take care of all the
                            process onwards.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">3</span>
                            Before doing any execution process, SSSM saves the dataset which it got initially in
                            event store.

                            <div class="callout-block callout-block-info">

                                <div class="content">
                                    <h4 class="callout-title">
	                                <span class="callout-icon-holder me-1">
		                                <i class="fas fa-info-circle"></i>
		                            </span><!--//icon-holder-->
                                        Note
                                    </h4>
                                    <p>Now is the time to be executed all the service classes one by one to do the
                                        transaction fallowing the instructions that you have coded.</p>
                                </div><!--//content-->
                            </div><!--//callout-block-->
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4</span>
                            you are already know that you can use the main server that you want to start the
                            transaction as the coordinator. Then it will act as a coordinator as well as a
                            microservice. Therefore, the first execution will be a self transaction. (The request
                            not
                            going to another service).
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4.1</span>
                            after executing the do-process method successfully, updated dataset will be saved in the
                            event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">4.2</span>
                            after saving the event state in the store the main service class will be notified as one
                            execution has been processed successfully. (This is the place that you can update the
                            status of the transaction each time after doing execution successfully)
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5</span>
                            CheckUserStatus executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">5.1</span>
                            same as the first execution, after executing the do-process method successfully, updated
                            dataset will be saved in the event store.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5.2</span>
                            same as the first execution, after saving the event state in the store the main service
                            class will be notified as one execution has been processed successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6</span>
                            StockUpdate executor class will be executed because of the previous execution doing
                            successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">6.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7</span>
                            MakePayment executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">8</span>
                            The stackSAGA coordinator (SSC) knows the process is completed now. Therefore, it will
                            notify to the onComplete method inside the controller (it is an Asynchronous
                            invocation).
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R9</span>
                            R9 after completing all the process SSC returns to the controller with all the
                            historical dataset that executed.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R10</span>
                            The controller returns the response
                            back to the client.
                        </li>


                    </ul>

                    <p>
                        As we discussed earlier, we had used number of microservices for doing one single execution.
                        Just assume we have used 5 microservices to be executed and all of them have been worked
                        without any errors. Then there is no revert processes have been executed. That's means, all
                        the microservices are up and running and there haven't been occurred exceptions internally
                        inside each microservice.
                    </p>

                    <br>
                    <h5 id="fire-and-forget-with-revert-success-transaction-scenario">Fire And Forget full process with
                        Rollback/Compensation/Revert success transaction scenario</h5>
                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/revert-success-transaction-stacksaga.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/revert-success-transaction-stacksaga.svg"
                                alt=""
                                title="CoderPro Home Page"/></a>
                    </div>
                    <ul>
                        <li>
                            <span class="badge rounded-pill bg-number">1</span>
                            As the first step a request cokes to
                            the microservice which we are going to start transaction.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">2</span>
                            the request mapping method will catch the request handover the process into stack
                            saga template (stack saga state machine). After that the SSSM will take care of all the
                            process onwards.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">3</span>
                            Before doing any execution process, SSSM saves the dataset which it got initially in
                            event store.

                            <div class="callout-block callout-block-info">

                                <div class="content">
                                    <h4 class="callout-title">
	                                <span class="callout-icon-holder me-1">
		                                <i class="fas fa-info-circle"></i>
		                            </span><!--//icon-holder-->
                                        Note
                                    </h4>
                                    <p>Now is the time to be executed all the service classes one by one to do the
                                        transaction fallowing the instructions that you have coded.</p>
                                </div><!--//content-->
                            </div><!--//callout-block-->
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4</span>
                            you are already know that you can use the main server that you want to start the
                            transaction as the coordinator. Then it will act as a coordinator as well as a
                            microservice. Therefore, the first execution will be a self transaction. (The request
                            not
                            going to another service).
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4.1</span>
                            after executing the do-process method successfully, updated dataset will be saved in the
                            event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">4.2</span>
                            after saving the event state in the store the main service class will be notified as one
                            execution has been processed successfully. (This is the place that you can update the
                            status of the transaction each time after doing execution successfully)
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5</span>
                            CheckUserStatus executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">5.1</span>
                            same as the first execution, after executing the do-process method successfully, updated
                            dataset will be saved in the event store.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5.2</span>
                            same as the first execution, after saving the event state in the store the main service
                            class will be notified as one execution has been processed successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6</span>
                            StockUpdate executor class will be executed because of the previous execution doing
                            successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">6.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7</span>
                            MakePayment executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">8</span>
                            The stackSAGA coordinator (SSC) knows the process is completed now. Therefore, it will
                            notify to the onComplete method inside the controller (it is an Asynchronous
                            invocation).
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R9</span>
                            R9 after completing all the process SSC returns to the controller with all the
                            historical dataset that executed.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R10</span>
                            The controller returns the response
                            back to the client.
                        </li>


                    </ul>

                    <p>
                        In this time, An exception has occurred when one of microservices get execute. Just assume
                        coordinator has been executed 3 microservices successfully but at the 4th one, an error has
                        occurred due to a network exception or whatever internal exception that the microservices
                        has been thrown. Now the coordinator has to execute revert function regarding the all
                        microservices that executed earlier. So the coordinator will start to execute all the revert
                        functions one by one as a sequence. If those revert functions has been executed
                        successfully, this kind of transactions are going to these types. Simply we did a set of
                        transactions but unfortunately got an error but all the revert processes are done
                        successfully.
                    </p>

                    <br>
                    <h5 id="fire-and-forget-with-evert-failed-transaction-scenario">Fire And Forget full process with
                        Rollback/Compensation/Revert failed transaction scenario</h5>
                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/revert-failed-transaction-stacksaga.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/revert-failed-transaction-stacksaga.svg"
                                alt=""
                                title="revert failed transaction stacksaga"/></a>
                    </div>
                    <ul>
                        <li>
                            <span class="badge rounded-pill bg-number">1</span>
                            As the first step a request cokes to
                            the microservice which we are going to start transaction.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">2</span>
                            the request mapping method will catch the request handover the process into stack
                            saga template (stack saga state machine). After that the SSSM will take care of all the
                            process onwards.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">3</span>
                            Before doing any execution process, SSSM saves the dataset which it got initially in
                            event store.

                            <div class="callout-block callout-block-info">

                                <div class="content">
                                    <h4 class="callout-title">
	                                <span class="callout-icon-holder me-1">
		                                <i class="fas fa-info-circle"></i>
		                            </span><!--//icon-holder-->
                                        Note
                                    </h4>
                                    <p>Now is the time to be executed all the service classes one by one to do the
                                        transaction fallowing the instructions that you have coded.</p>
                                </div><!--//content-->
                            </div><!--//callout-block-->
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4</span>
                            you are already know that you can use the main server that you want to start the
                            transaction as the coordinator. Then it will act as a coordinator as well as a
                            microservice. Therefore, the first execution will be a self transaction. (The request
                            not
                            going to another service).
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4.1</span>
                            after executing the do-process method successfully, updated dataset will be saved in the
                            event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">4.2</span>
                            after saving the event state in the store the main service class will be notified as one
                            execution has been processed successfully. (This is the place that you can update the
                            status of the transaction each time after doing execution successfully)
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5</span>
                            CheckUserStatus executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">5.1</span>
                            same as the first execution, after executing the do-process method successfully, updated
                            dataset will be saved in the event store.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5.2</span>
                            same as the first execution, after saving the event state in the store the main service
                            class will be notified as one execution has been processed successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6</span>
                            StockUpdate executor class will be executed because of the previous execution doing
                            successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">6.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7</span>
                            MakePayment executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">8</span>
                            The stackSAGA coordinator (SSC) knows the process is completed now. Therefore, it will
                            notify to the onComplete method inside the controller (it is an Asynchronous
                            invocation).
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R9</span>
                            R9 after completing all the process SSC returns to the controller with all the
                            historical dataset that executed.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R10</span>
                            The controller returns the response
                            back to the client.
                        </li>


                    </ul>

                    <p>
                        In this time, the coordinator try to execute the transactions one by one. But while doing
                        the execution, an error get occurred after doing some executions and the coordinator get
                        started to execute all the revert processes that regards to the microservices that
                        previously executed. But unfortunately while doing the revert executions an error get
                        occurred because of a network issues. (Network issues means it can be happened because of
                        there is no endpoint in active at that time or kind of actual network problems)
                    </p>

                    <h5>Replay transaction by coordinator</h5>

                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/replay-revert-failed-transaction-stacksaga.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/replay-revert-failed-transaction-stacksaga.svg"
                                alt=""
                                title="revert failed transaction stacksaga"/></a>
                    </div>

                    <!--Fire And Forget end-->


                    <!--Fire And Forget on process failure start-->

                    <h4>02.Fire And Forget full process <code>fireAndForgetOnProcessFailure()</code></h4>

                    <ul>
                        <li>
                            <a href="#fire-and-forget-with-fully-success-transaction-scenario">

                                Synchronous process with Fully success transaction scenario
                            </a>
                        </li>
                        <li>
                            <a href="#fire-and-forget-with-revert-success-transaction-scenario">

                                Synchronous process with Rollback/Compensation/Revert success transaction
                                scenario
                            </a>
                        </li>
                        <li>
                            <a href="#fire-and-forget-with-evert-failed-transaction-scenario">

                                Synchronous process with Rollback/Compensation/Revert failed transaction
                                scenario
                            </a>
                        </li>
                    </ul>


                    <br>
                    <h5 id="fire-and-forget-on-process-failure-with-fully-success-transaction-scenario">Fire And Forget
                        on process failure with
                        Fully
                        success transaction scenario</h5>
                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/fully-success-transaction-stacksaga.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/fully-success-transaction-stacksaga.svg"
                                alt=""
                                title="CoderPro Home Page"/></a>
                    </div>
                    <ul>
                        <li>
                            <span class="badge rounded-pill bg-number">1</span>
                            As the first step a request cokes to
                            the microservice which we are going to start transaction.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">2</span>
                            the request mapping method will catch the request handover the process into stack
                            saga template (stack saga state machine). After that the SSSM will take care of all the
                            process onwards.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">3</span>
                            Before doing any execution process, SSSM saves the dataset which it got initially in
                            event store.

                            <div class="callout-block callout-block-info">

                                <div class="content">
                                    <h4 class="callout-title">
	                                <span class="callout-icon-holder me-1">
		                                <i class="fas fa-info-circle"></i>
		                            </span><!--//icon-holder-->
                                        Note
                                    </h4>
                                    <p>Now is the time to be executed all the service classes one by one to do the
                                        transaction fallowing the instructions that you have coded.</p>
                                </div><!--//content-->
                            </div><!--//callout-block-->
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4</span>
                            you are already know that you can use the main server that you want to start the
                            transaction as the coordinator. Then it will act as a coordinator as well as a
                            microservice. Therefore, the first execution will be a self transaction. (The request
                            not
                            going to another service).
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4.1</span>
                            after executing the do-process method successfully, updated dataset will be saved in the
                            event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">4.2</span>
                            after saving the event state in the store the main service class will be notified as one
                            execution has been processed successfully. (This is the place that you can update the
                            status of the transaction each time after doing execution successfully)
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5</span>
                            CheckUserStatus executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">5.1</span>
                            same as the first execution, after executing the do-process method successfully, updated
                            dataset will be saved in the event store.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5.2</span>
                            same as the first execution, after saving the event state in the store the main service
                            class will be notified as one execution has been processed successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6</span>
                            StockUpdate executor class will be executed because of the previous execution doing
                            successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">6.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7</span>
                            MakePayment executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">8</span>
                            The stackSAGA coordinator (SSC) knows the process is completed now. Therefore, it will
                            notify to the onComplete method inside the controller (it is an Asynchronous
                            invocation).
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R9</span>
                            R9 after completing all the process SSC returns to the controller with all the
                            historical dataset that executed.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R10</span>
                            The controller returns the response
                            back to the client.
                        </li>


                    </ul>

                    <p>
                        As we discussed earlier, we had used number of microservices for doing one single execution.
                        Just assume we have used 5 microservices to be executed and all of them have been worked
                        without any errors. Then there is no revert processes have been executed. That's means, all
                        the microservices are up and running and there haven't been occurred exceptions internally
                        inside each microservice.
                    </p>

                    <br>
                    <h5 id="fire-and-forget-on-process-failure-with-revert-success-transaction-scenario">Fire And Forget
                        on process failure with
                        Rollback/Compensation/Revert success transaction scenario</h5>
                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/revert-success-transaction-stacksaga.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/revert-success-transaction-stacksaga.svg"
                                alt=""
                                title="Rollback/Compensation/Revert success transaction scenario"/></a>
                    </div>
                    <ul>
                        <li>
                            <span class="badge rounded-pill bg-number">1</span>
                            As the first step a request cokes to
                            the microservice which we are going to start transaction.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">2</span>
                            the request mapping method will catch the request handover the process into stack
                            saga template (stack saga state machine). After that the SSSM will take care of all the
                            process onwards.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">3</span>
                            Before doing any execution process, SSSM saves the dataset which it got initially in
                            event store.

                            <div class="callout-block callout-block-info">

                                <div class="content">
                                    <h4 class="callout-title">
	                                <span class="callout-icon-holder me-1">
		                                <i class="fas fa-info-circle"></i>
		                            </span><!--//icon-holder-->
                                        Note
                                    </h4>
                                    <p>Now is the time to be executed all the service classes one by one to do the
                                        transaction fallowing the instructions that you have coded.</p>
                                </div><!--//content-->
                            </div><!--//callout-block-->
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4</span>
                            you are already know that you can use the main server that you want to start the
                            transaction as the coordinator. Then it will act as a coordinator as well as a
                            microservice. Therefore, the first execution will be a self transaction. (The request
                            not
                            going to another service).
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4.1</span>
                            after executing the do-process method successfully, updated dataset will be saved in the
                            event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">4.2</span>
                            after saving the event state in the store the main service class will be notified as one
                            execution has been processed successfully. (This is the place that you can update the
                            status of the transaction each time after doing execution successfully)
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5</span>
                            CheckUserStatus executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">5.1</span>
                            same as the first execution, after executing the do-process method successfully, updated
                            dataset will be saved in the event store.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5.2</span>
                            same as the first execution, after saving the event state in the store the main service
                            class will be notified as one execution has been processed successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6</span>
                            StockUpdate executor class will be executed because of the previous execution doing
                            successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">6.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7</span>
                            MakePayment executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">8</span>
                            The stackSAGA coordinator (SSC) knows the process is completed now. Therefore, it will
                            notify to the onComplete method inside the controller (it is an Asynchronous
                            invocation).
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R9</span>
                            R9 after completing all the process SSC returns to the controller with all the
                            historical dataset that executed.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R10</span>
                            The controller returns the response
                            back to the client.
                        </li>


                    </ul>

                    <p>
                        In this time, An exception has occurred when one of microservices get execute. Just assume
                        coordinator has been executed 3 microservices successfully but at the 4th one, an error has
                        occurred due to a network exception or whatever internal exception that the microservices
                        has been thrown. Now the coordinator has to execute revert function regarding the all
                        microservices that executed earlier. So the coordinator will start to execute all the revert
                        functions one by one as a sequence. If those revert functions has been executed
                        successfully, this kind of transactions are going to these types. Simply we did a set of
                        transactions but unfortunately got an error but all the revert processes are done
                        successfully.
                    </p>

                    <br>
                    <h5 id="fire-and-forget-on-process-failure-with-evert-failed-transaction-scenario">Fire And Forget
                        on process failure with
                        Rollback/Compensation/Revert failed transaction scenario</h5>
                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/revert-failed-transaction-stacksaga.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/revert-failed-transaction-stacksaga.svg"
                                alt=""
                                title="revert failed transaction stacksaga"/></a>
                    </div>
                    <ul>
                        <li>
                            <span class="badge rounded-pill bg-number">1</span>
                            As the first step a request cokes to
                            the microservice which we are going to start transaction.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">2</span>
                            the request mapping method will catch the request handover the process into stack
                            saga template (stack saga state machine). After that the SSSM will take care of all the
                            process onwards.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">3</span>
                            Before doing any execution process, SSSM saves the dataset which it got initially in
                            event store.

                            <div class="callout-block callout-block-info">

                                <div class="content">
                                    <h4 class="callout-title">
	                                <span class="callout-icon-holder me-1">
		                                <i class="fas fa-info-circle"></i>
		                            </span><!--//icon-holder-->
                                        Note
                                    </h4>
                                    <p>Now is the time to be executed all the service classes one by one to do the
                                        transaction fallowing the instructions that you have coded.</p>
                                </div><!--//content-->
                            </div><!--//callout-block-->
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4</span>
                            you are already know that you can use the main server that you want to start the
                            transaction as the coordinator. Then it will act as a coordinator as well as a
                            microservice. Therefore, the first execution will be a self transaction. (The request
                            not
                            going to another service).
                        </li>
                        <li>
                            <span class="badge rounded-pill bg-number">4.1</span>
                            after executing the do-process method successfully, updated dataset will be saved in the
                            event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">4.2</span>
                            after saving the event state in the store the main service class will be notified as one
                            execution has been processed successfully. (This is the place that you can update the
                            status of the transaction each time after doing execution successfully)
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5</span>
                            CheckUserStatus executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">5.1</span>
                            same as the first execution, after executing the do-process method successfully, updated
                            dataset will be saved in the event store.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">5.2</span>
                            same as the first execution, after saving the event state in the store the main service
                            class will be notified as one execution has been processed successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6</span>
                            StockUpdate executor class will be executed because of the previous execution doing
                            successfully.
                        </li>


                        <li>
                            <span class="badge rounded-pill bg-number">6.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">6.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7</span>
                            MakePayment executor class will be executed because of the previous execution doing
                            successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.1</span>
                            same as the previous execution, after executing the do-process method successfully,
                            updated dataset will be saved in the event store.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">7.2</span>
                            same as the previous execution, after saving the event state in the store the main
                            service class will be notified as one execution has been processed successfully.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">8</span>
                            The stackSAGA coordinator (SSC) knows the process is completed now. Therefore, it will
                            notify to the onComplete method inside the controller (it is an Asynchronous
                            invocation).
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R9</span>
                            R9 after completing all the process SSC returns to the controller with all the
                            historical dataset that executed.
                        </li>

                        <li>
                            <span class="badge rounded-pill bg-number">R10</span>
                            The controller returns the response
                            back to the client.
                        </li>


                    </ul>

                    <p>
                        In this time, the coordinator try to execute the transactions one by one. But while doing
                        the execution, an error get occurred after doing some executions and the coordinator get
                        started to execute all the revert processes that regards to the microservices that
                        previously executed. But unfortunately while doing the revert executions an error get
                        occurred because of a network issues. (Network issues means it can be happened because of
                        there is no endpoint in active at that time or kind of actual network problems)
                    </p>

                    <h5>Replay transaction by coordinator</h5>

                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/replay-revert-failed-transaction-stacksaga.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/replay-revert-failed-transaction-stacksaga.svg"
                                alt=""
                                title="revert failed transaction stacksaga"/></a>
                    </div>

                    <!--Fire And Forget on process failure end-->


                    <!--summary-->
                    <h3>Summary of Execution Approaches</h3>

                    <div class="table-responsive my-4">
                        <table class="table table-bordered table-hover">

                            <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Execution Approaches</th>
                                <th scope="col">Method/Function</th>
                                <th style="width: 100%">Description</th>
                                <th scope="col">Possibilities</th>
                            </tr>

                            </thead>
                            <tbody>
                            <tr>
                                <th scope="row">01</th>
                                <td>Synchronous</td>
                                <td><code>process()</code></td>
                                <td class="col-5">Fire the request and the request keep waiting until process
                                    complete or get an
                                    error when executing one of executors' do-revert method. (The request will be
                                    forgotten if only
                                    occurred a do-revert
                                    error). the rest of execution will be done by the coordinator, and after
                                    completing the execution, controller class's <a
                                            href="#">listener</a> will
                                    be notified by saga coordinator.
                                </td>
                                <td>
                                    <ul>
                                        <li>
                                            <a href="#synchronous-process-with-fully-success-transaction-scenario">

                                                Fully success transaction
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#synchronous-process-with-revert-success-transaction-scenario">

                                                Rollback/Compensation/Revert success transaction
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#synchronous-process-with-evert-failed-transaction-scenario">

                                                Rollback/Compensation/Revert failed transaction
                                            </a>
                                        </li>
                                    </ul>


                                </td>

                            </tr>

                            <tr>
                                <th scope="row">02</th>
                                <td>Fire And Forget</td>
                                <td><code>fireAndForget()</code></td>
                                <td>fire the request and forget. after completing the process
                                    controller class's <a
                                            href="@">listener</a> will
                                    be notified by saga coordinator.
                                </td>
                                <td>

                                    <ul>
                                        <li>
                                            <a href="#fire-and-forget-with-fully-success-transaction-scenario">

                                                Fully success transaction
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#fire-and-forget-with-revert-success-transaction-scenario">

                                                Rollback/Compensation/Revert success transaction
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#fire-and-forget-with-evert-failed-transaction-scenario">

                                                Rollback/Compensation/Revert failed transaction
                                            </a>
                                        </li>
                                    </ul>
                                </td>
                            </tr>

                            <tr>
                                <th scope="row">03</th>
                                <td>Fire And Forget On Process</td>
                                <td><code>fireAndForgetOnProcessFailure()</code></td>
                                <td class="col-5">Fire the request and the request keep waiting until process
                                    complete or get an
                                    error when executing one of executors' do-process method. (The request will be
                                    forgotten if
                                    occurred a do-process
                                    error). the rest of execution will be done by the coordinator and after
                                    completing the execution, controller class's <a
                                            href="#">listener</a> will
                                    be notified by saga coordinator.
                                </td>
                                <td>
                                    <ul>
                                        <li>
                                            <a href="#fire-and-forget-on-process-failure-with-fully-success-transaction-scenario">

                                                Fully success transaction
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#fire-and-forget-on-process-failure-with-revert-success-transaction-scenario">

                                                Rollback/Compensation/Revert success transaction
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#fire-and-forget-on-process-failure-with-evert-failed-transaction-scenario">

                                                Rollback/Compensation/Revert failed transaction
                                            </a>
                                        </li>
                                    </ul>

                                </td>
                            </tr>


                            </tbody>
                        </table>
                    </div><!--//table-responsive-->
                </section>
                <section>
                    <h3>stackSAGA High-level architecture diagram</h3>
                    <div>
                        <a target="_blank"
                           href="../../assets/images/architecture/1.0/stack-saga-high-level-diagram.svg"><img
                                class="img-fluid  "
                                src="../../assets/images/architecture/1.0/stack-saga-high-level-diagram.svg"
                                alt=""
                                title="stackSAGA High-level architecture diagram"/></a>
                    </div>
                </section>

            </article>

        </div>
    </div>
</div>
<!-- Javascript -->
<script src="../../assets/plugins/popper.min.js"></script>
<script src="../../assets/plugins/bootstrap/js/bootstrap.min.js"></script>


<!-- Page Specific JS -->
<script src="../../assets/plugins/smoothscroll.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js"></script>
<script src="../../assets/js/highlight-custom.js"></script>
<script src="../../assets/plugins/simplelightbox/simple-lightbox.min.js"></script>
<script src="../../assets/plugins/gumshoe/gumshoe.polyfills.min.js"></script>
<script src="../../assets/js/docs.js"></script>
</body>
</html> 

