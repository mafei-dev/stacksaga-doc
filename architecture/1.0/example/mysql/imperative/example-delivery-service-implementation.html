<!DOCTYPE html>
<html lang="en">
<head>
    <title>Quick Start - Stack SAGA</title>

    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="Stack SAGA Quick Start with spring boot microservice.">
    <meta name="author" content="Mafei">


    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="180x180" href="./../../../../../assets/fav/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./../../../../../assets/fav/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./../../../../../assets/fav/favicon-16x16.png">
    <link rel="manifest" href="./../../../../../assets/fav/site.webmanifest">
    <link rel="mask-icon" href="./../../../../../assets/fav/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="apple-mobile-web-app-title" content="stacksaga">
    <meta name="application-name" content="stacksaga">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#28b76b">


    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700&display=swap" rel="stylesheet">

    <!-- FontAwesome JS-->
    <script defer src="../../../../../assets/fontawesome/js/all.min.js"></script>

    <!-- Plugins CSS -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.2/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="../../../../../assets/plugins/simplelightbox/simple-lightbox.min.css">

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="../../../../../assets/css/theme.css">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LC0M1Q19EK"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'G-LC0M1Q19EK');
    </script>
    <link rel="stylesheet" href="../../../../../assets/css/custom.css">


</head>

<body class="docs-page">
<header class="header fixed-top">
    <div class="branding docs-branding">
        <div class="container-fluid position-relative py-2">
            <div class="docs-logo-wrapper">
                <button id="docs-sidebar-toggler" class="docs-sidebar-toggler docs-sidebar-visible me-2 d-xl-none"
                        type="button">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="site-logo">
                    <a class="navbar-brand" href="../../../../../index.html">
                        <img src="../../../../../assets/images/StackSagaIcon.png"
                             alt="logo"/>
                        <span class="logo-text">Stack<span class="text-alt">SAGA</span></span>
                    </a>
                </div>

            </div><!--//docs-logo-wrapper-->
            <div class="docs-top-utilities d-flex justify-content-end align-items-center">
                <div class="top-search-box d-none d-lg-flex">
                    <!--<form class="search-form">
                        <input type="text" placeholder="Search the docs..." name="search"
                               class="form-control search-input"/>
                        <button type="submit" class="btn search-btn" value="Search"><i class="fas fa-search"></i>
                        </button>
                    </form>-->
                    <form class="search-form search-input">
                        <div class="form-group">
                            <select class="form-control" id="exampleFormControlSelect1">
                                <option selected>version 1.0.0</option>
                            </select>
                        </div>
                    </form>


                </div>

                <ul class="social-list list-inline mx-md-3 mx-lg-5 mb-0 d-none d-lg-flex">
                    <li class="list-inline-item"><a href="https://github.com/stacksaga"><i
                            class="fab fa-github fa-fw"></i></a></li>
                    <li class="list-inline-item"><a href="https://stackoverflow.com/questions/tagged/stacksaga"><i
                            class="fab fa-stack-overflow fa-fw"></i></a></li>

                </ul><!--//social-list-->

            </div><!--//docs-top-utilities-->
        </div><!--//container-->
    </div><!--//branding-->
</header><!--//header-->


<div class="docs-wrapper">
    <div id="docs-sidebar" class="docs-sidebar">
        <div class="top-search-box d-lg-none p-3">
            <form class="search-form">
                <input type="text" placeholder="Search the docs..." name="search" class="form-control search-input">
                <button type="submit" class="btn search-btn" value="Search"><i class="fas fa-search"></i></button>
            </form>
        </div>
        <nav id="docs-nav" class="docs-nav navbar">
            <ul class="section-items list-unstyled nav flex-column pb-3">
                <li class="nav-item section-title"><a class="nav-link scrollto active" href="#section-1"><span
                        class="theme-icon-holder me-2"><i class="fas fa-map-signs"></i></span>
                    Delivery Service
                    Implementation</a></li>
                <li class="nav-item"><a class="nav-link scrollto" href="#overview">Overview</a></li>
                <li class="nav-item"><a class="nav-link scrollto" href="#creating-application">Creating application</a>
                </li>
                <li class="nav-item"><a class="nav-link scrollto" href="#database">Database</a></li>
                <li class="nav-item"><a class="nav-link scrollto" href="#implementation">Implementation</a></li>
                <li class="nav-item"><a class="nav-link scrollto" href="#creating-entity">Creating Entity</a></li>
                <li class="nav-item"><a class="nav-link scrollto" href="#creating-repository">Creating Repository </a>
                </li>
                <li class="nav-item"><a class="nav-link scrollto" href="#creating-service">Creating Service </a></li>
                <li class="nav-item"><a class="nav-link scrollto" href="#creating-controller">Creating Controller </a>
                </li>
            </ul>

        </nav><!--//docs-nav-->
    </div><!--//docs-sidebar-->
    <div class="docs-content">
        <div class="container">
            <article class="docs-article" id="section-1">
                <header class="docs-header">
                    <div class="text-center" style="padding-bottom: 10px">
                        <div class="btn-group" role="group" aria-label="Basic example">
                            <a href="#" class="btn btn-primary">Imperative Way</a>
                            <a href="#" class="btn btn-light">Reactive Way</a>

                        </div>
                    </div>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb" style="padding-left: 0 !important;">
                            <li class="breadcrumb-item"><a href="#">Home</a></li>
                            <li class="breadcrumb-item"><a href="#">Imperative</a></li>
                            <li class="breadcrumb-item"><a href="#">Mysql</a></li>
                            <li class="breadcrumb-item"><a href="#">1.0.0</a></li>
                            <li class="breadcrumb-item"><a href="#">example</a></li>
                            <li class="breadcrumb-item active" aria-current="page">delivery-service implementation</li>
                        </ol>
                    </nav>


                    <h1 id="overview" class="docs-heading">Overview <span class="docs-time">Last updated: 2019-06-01</span></h1>
                    <section class="docs-intro">
                        <p>
                            In the previous two articles, we have successfully created the eureka-server and the
                            order-service. now we are going to create one of next microservices. the next service which
                            we are going to implement is delivery-service. in the delivery-service we want to have two endpoints
                            for execute the place-order according the use-case.
                        </p>
                        <p>The following endpoints will be created in this part</p>
                        <ul>
                            <li>
                                <span class="badge  bg-primary">PUT</span>
                                <code>/delivery-service/start</code>
                            </li>
                        </ul>
                        <br>
                        <br>
                        <a href="https://github.com/stacksaga/stacksaga-implementation-example/tree/without-StackSaga"
                           target="_blank">
                            Full source code on Github
                        </a>
                        <br>
                        <br>
                    </section><!--//docs-intro-->


                </header>


                <section class="docs-section" id="item-1-5">
                    <h3 id="creating-application" class="section-heading">Creating delivery-service.</h3>
                    <p>
                        Visit to the spring initializer and create the project by adding the following dependencies.
                    </p>
                    <img class="img-fluid"
                         src="../../../../../assets/img/mysql/1.0/imperative/delivery-service-implementation/stack-saga-example-delivery-service-creating.jpeg"
                         alt="stack saga microservice example delivery service setup"/>

                    <h4 id="database">Database</h4>
                    <p>There are two tables in the delivery-service's db called <code>ss_delivery_detail</code> and
                        <code>ss_delivery_status_log</code>. (you don't want to creat the database manually. because,
                        spring-data-jpa will create the
                        database and the tables when start the project.)
                    </p>
                    <img class="img-fluid"
                         src="../../../../../assets/img/mysql/1.0/imperative/delivery-service-implementation/stack-saga-microservice-example-delivery-service-db.png"
                         alt="stack saga microservice example delivery service db"/>

                    <br>
                    <br>
                    <h4 id="implementation">Implementation of delivery-service</h4>
                    <br>
                    <h5>
                        Configuration properties
                    </h5>
                    <p>
                        same as the other services, we have to put some of our properties in the
                        <code>application.yml</code>
                        file.
                    </p>
                    <h6>application.yml</h6>
                    <small>
                        <b>delivery-service >
                            src/main/resources/application.yml
                        </b>
                    </small>
                    <script src="https://gist.github.com/mafei-dev/95f26d3b6fa60795fe34ad12a015e8a7.js"></script>
                    <br>
                    <br>
                    <h5>
                        Annotate the main class
                    </h5>

                    <p>for now, we have been using the only eureka client in this project. therefore, one and only
                        annotation for main class is <code>@EnableEurekaClient</code>.</p>
                    <small>
                        <b>delivery-service >
                            org/mono/stacksaga/example/deliveryservice/DeliveryServiceApplication.java
                        </b>
                    </small>
                    <script src="https://gist.github.com/mafei-dev/3f5913c9d5353aa84efc6d138a0cb18c.js"></script>
                    <br>
                    <br>
                    <h5 id="creating-entity">
                        Entity classes
                    </h5>

                    <h6>DeliveryDetailEntity.java</h6>
                    <small>
                        <b>delivery-service >
                            org/mono/stacksaga/example/deliveryservice/entity/DeliveryDetailEntity.java
                        </b>
                    </small>
                    <script src="https://gist.github.com/mafei-dev/e53e1593f3b4b49d742f9f2228ad6c9a.js"></script>
                    <br>
                    <br>

                    <h6>DeliveryStatusLogEntity.java</h6>
                    <small>
                        <b>delivery-service >
                            org/mono/stacksaga/example/deliveryservice/entity/DeliveryStatusLogEntity.java
                        </b>
                    </small>
                    <script src="https://gist.github.com/mafei-dev/33af30d0efd2413e8141b0fff861817e.js"></script>
                    <br>
                    <br>


                    <h5 id="creating-repository">
                        Repository classes of delivery-service
                    </h5>

                    <h6>DeliveryStatusRepository.class</h6>
                    <small>
                        <b>delivery-service >
                            org/mono/stacksaga/example/deliveryservice/repository/DeliveryStatusRepository.java
                        </b>
                    </small>
                    <script src="https://gist.github.com/mafei-dev/3a67a6c7dfeff2d3fba327eefe698de9.js"></script>
                    <br>
                    <br>
                    <h6>DeliveryStatusLogRepository.class</h6>
                    <small>
                        <b>delivery-service >
                            org/mono/stacksaga/example/deliveryservice/repository/DeliveryStatusLogRepository.java
                        </b>
                    </small>
                    <script src="https://gist.github.com/mafei-dev/51f129b0b850f3af59bed74d6b0bc8a9.js"></script>

                    <br>
                    <br>
                    <h5 id="creating-service">
                        Service classes of delivery-service
                    </h5>

                    <h6>DeliveryDetailService.class</h6>
                    <small>
                        <b>delivery-service >
                            org/mono/stacksaga/example/deliveryservice/service/DeliveryDetailService.java
                        </b>
                    </small>

                    <script src="https://gist.github.com/mafei-dev/5e3a0c99f26150d88c8de0463ed31a82.js"></script>
                    <br>
                    <br>
                    <h5 id="creating-controller">
                        Controller classes of delivery-service
                    </h5>

                    <p>now we are going to create the endpoints for put the delivery details after placing the order
                        successfully.

                    <p>before creating the service class, we have to create the response body and request body DTOs</p>

                    <h6>StartDeliveryRequestBody.class</h6>
                    <small>
                        <b>delivery-service >
                            org/mono/stacksaga/example/deliveryservice/dto/StartDeliveryRequestBody.java
                        </b>
                    </small>
                    <script src="https://gist.github.com/mafei-dev/8b697fcc0cae318c7d3865b0f6dab9c4.js"></script>
                    <br>
                    <br>
                    <h6>StartDeliveryResponseBody.class</h6>
                    <small>
                        <b>delivery-service >
                            org/mono/stacksaga/example/deliveryservice/dto/StartDeliveryResponseBody.java
                        </b>
                    </small>
                    <script src="https://gist.github.com/mafei-dev/df133abdae546f0a0bc192c16e0f3e71.js"></script>
                    <br>
                    <br>

                    <p>Now we are going to create our DeliveryController by using the response body adn request body
                        classes
                        that we created above.</p>
                    <h6>DeliveryController.class</h6>
                    <small>
                        <b>delivery-service >
                            org/mono/stacksaga/example/deliveryservice/controller/DeliveryController.java
                        </b>
                    </small>
                    <script src="https://gist.github.com/mafei-dev/169507a4c173b3dc8f59869501ae6f28.js"></script>
                    <br>
                    <br>
                    <img class="img-fluid"
                         src="../../../assets/img/mysql/1.0/imperative/delivery-service-implementation/stacksaga-example-delivery-service-endpoint-test.png"
                         alt="stack saga microservice example delivery service endpoint test"/>
                    <br>
                    <br>

                    <p>Using the Curl.</p>
                    <script src="https://gist.github.com/mafei-dev/91024d09c266146c03486a86caa58a7a.js"></script>
                    <br>
                    <p><b>After all, The delivery-server project folder and file structure like below.</b></p>
                    <br>
                    <br>
                    <pre style="background-color: #f5fcf7">
└───main
    ├───java
    │   └───org
    │       └───mono
    │           └───stacksaga
    │               └───example
    │                   └───deliveryservice
    │                       │   DeliveryServiceApplication.java
    │                       │
    │                       ├───controller
    │                       │       DeliveryController.java
    │                       │
    │                       ├───dto
    │                       │       StartDeliveryRequestBody.java
    │                       │       StartDeliveryResponseBody.java
    │                       │
    │                       ├───entity
    │                       │       DeliveryDetailEntity.java
    │                       │       DeliveryStatusLogEntity.java
    │                       │
    │                       ├───repository
    │                       │       DeliveryStatusLogRepository.java
    │                       │       DeliveryStatusRepository.java
    │                       │
    │                       └───service
    │                               DeliveryDetailService.java
    │
    └───resources
        │   application.yml
        │
        ├───static
        └───templates
                    </pre>

                </section>


                <div>
                    Previous <a href="example-payment-service-implementation.html">Implementation of payment-service</a>
                    <br>
                    Next <a href="microservice-example-test-without-stacksaga.html">Final application test without using
                    StackSaga</a>
                </div>


                <section class="docs-section">
                    <h2>Example series</h2>
                    <ul>
                        <li>
                            <p>
                                Microservice example without using StackSAGA (Imperative way)
                            </p>
                            <ul>

                                <li>
                                    <p>
                                        <a href="./quick-start.html" target="_blank">
                                            Introduction
                                        </a>
                                    </p>
                                </li>

                                <li>
                                    <p>
                                        <a href="./example-order-service-implementation.html" target="_blank">
                                            Implementation of order-service
                                        </a>
                                    </p>
                                </li>

                                <li>
                                    <p>
                                        <a href="./example-user-service-implementation.html" target="_blank">
                                            Implementation of eureka server
                                        </a>
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        <a href="./api-cloud-gateway-implementation.html" target="_blank">
                                            Implementation of Api-gateway
                                        </a>
                                    </p>
                                </li>

                                <li>
                                    <p>
                                        <a href="./example-user-service-implementation.html" target="_blank">
                                            Implementation of user-service
                                        </a>
                                    </p>
                                </li>

                                <li>
                                    <p>
                                        <a href="./example-payment-service-implementation.html" target="_blank">
                                            Implementation of payment-service
                                        </a>
                                    </p>
                                </li>

                                <li>
                                    <p>
                                        <a href="./example-delivery-service-implementation.html" target="_blank">
                                            Implementation of delivery-service
                                        </a>
                                    </p>
                                </li>


                                <li>
                                    <p>
                                        <a href="./microservice-example-test-without-stacksaga.html" target="_blank">
                                            Final application test without using StackSaga
                                        </a>
                                    </p>
                                </li>


                            </ul>
                        </li>

                        <li>
                            <p>
                                Microservice example by using StackSAGA (Imperative way).
                            </p>
                            <ul>

                                <li>
                                    <p>
                                        <a href="./using-stacksaga/stacksaga-spring-boot-microservice-example-with-stacksaga-user-service.html"
                                           target="_blank">
                                            user-service - migration to Saga design pattern
                                        </a>
                                    </p>
                                </li>

                                <li>
                                    <p>
                                        <a href="./using-stacksaga/stacksaga-spring-boot-microservice-example-with-stacksaga-payment-service.html"
                                           target="_blank">
                                            payment-service - migration to Saga design pattern
                                        </a>
                                    </p>
                                </li>

                                <li>
                                    <p>
                                        <a href="./using-stacksaga/stacksaga-spring-boot-microservice-example-with-stacksaga-delivery-service.html"
                                           target="_blank">
                                            delivery-service - migration to Saga design pattern
                                        </a>
                                    </p>
                                </li>

                                <li>
                                    <p>
                                        <a href="./using-stacksaga/stacksaga-spring-boot-microservice-example-with-stacksaga-order-service.html"
                                           target="_blank">
                                            order-service - migration to Saga design pattern
                                        </a>
                                    </p>
                                </li>

                                <li>
                                    <p>
                                        <a href="./using-stacksaga/stacksaga-spring-boot-microservice-example-with-stacksaga.html"
                                           target="_blank">
                                            order-service - migration to Saga design pattern with StackSaga
                                        </a>
                                    </p>
                                </li>

                                <li>
                                    <p>
                                        <a href="./using-stacksaga/stacksaga-spring-boot-microservice-example-test-with-stacksaga.html"
                                           target="_blank">
                                            Final application using StackSaga
                                        </a>
                                    </p>
                                </li>

                            </ul>
                        </li>

                    </ul>

                </section>

            </article>

        </div>
    </div>
</div><!--//docs-wrapper-->


<!-- Javascript -->
<script src="../../../../../assets/plugins/popper.min.js"></script>
<script src="../../../../../assets/plugins/bootstrap/js/bootstrap.min.js"></script>


<!-- Page Specific JS -->
<script src="../../../../../assets/plugins/smoothscroll.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js"></script>
<script src="../../../../../assets/js/highlight-custom.js"></script>
<script src="../../../../../assets/plugins/simplelightbox/simple-lightbox.min.js"></script>
<script src="../../../../../assets/plugins/gumshoe/gumshoe.polyfills.min.js"></script>
<script src="../../../../../assets/js/docs.js"></script>


</body>
</html> 

